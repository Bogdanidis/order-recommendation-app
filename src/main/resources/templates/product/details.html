<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Product Details</title>
</head>
<body>
<div th:replace="~{layout :: content}">
    <h1 class="mb-4">Product Details</h1>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title" th:text="${product.name}"></h5>
            <h6 class="card-subtitle mb-2 text-muted" th:text="${product.brand}"></h6>
            <p class="card-text" th:text="${product.description}"></p>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">Category: <span th:text="${product.category}"></span></li>
                <li class="list-group-item">Price: <span th:text="${#numbers.formatCurrency(product.price)}"></span></li>
                <li class="list-group-item">Stock: <span th:text="${product.stock}"></span></li>
            </ul>
        </div>
        <div class="card-footer">
            <a th:href="@{/products}" class="btn btn-secondary">Back to List</a>
            <a sec:authorize="hasRole('ROLE_ADMIN')" th:href="@{/products/{id}/update(id=${product.id})}" class="btn btn-warning">Edit</a>
            <form sec:authorize="hasRole('ROLE_ADMIN')" th:action="@{/products/{id}/delete(id=${product.id})}" method="post" style="display: inline;">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this product?')">Delete</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>